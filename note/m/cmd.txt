
. /etc/environment.d/99-m-paths.conf
export PATH="/m/bin:$PATH"

--------------------------------------------------------------------------------

todo:
- todo path "recursive L" -> 'R' with infinite loop detection
- fix cm globbin not working???
- rethink cm into 2 commands???
- fix install problem with home because is shared with any app,
thus either make it isolate for each app with per-app different home env, or find a way to know exactly what elements are per-app
- fix install problem with links generated by "app" and "cmd",
because of real dir need to be calculated by path full resolve, or per-app env

/m
  app: portable apps simple format, no pkg available /m/app/app is link to app commannd in sources
    add fake desktop app that call tui to commands in cmd sources
  bin: links to compiled external portable commands (installed like portable apps)
    downloaded packages are installed into bin/packages
    /m/bin must be added to system path before cmd subfolders
  cmd: commands (link to sources cmd dir)
  data
  dev: test dir
  env: secrets or host specific vars
  pkg
  src/git/m:
  - cmd: all standalone commands (app+conf, gitman, rsudo, etc.)
  - cpp
  - java (must all be converted to maven)
  - js (javascript web, nodejs and electron)
  - note
  - var (unsorted stuff)
  sys
  usr
  wrk
  m

command:
  - rework array lib to use saveargs function to save all array into one var and set it to helper function args to manipulate
  - pkg-inst: args -> pkg-name, pkg-ver, pkg/lib-inst-path, pkg-inst-conf, app-conf-path, symlinks-path. handles download, unpak and prepare app-conf.
    must implement relative symlinks!!! must implement MOVE_AND_LINK_CONF_SUBPATHS, must implement LIB_TYPE
  - pkg-uninst: handles uninstall
  - pkg: handles higher level problems like global paths, dependencies (min-max), default alternative (java, etc.), app-conf + version control conf symlinks, etc.
    pkg run pkg-name launches pkg-name default version with proper conf directory
  - term-mod: should recognize if already initialized, if possible term lib should handle this
    term mods don't change term settings, thus mods can be combined to create a complex tui app.
    rendering regions are controlled by env vars and never by command line! each composite module can then adjust region for submodules
    switch off key loop (allows initial renders of all mods into tui and only after recall active mod with key loop)
    problem env import/export for composite modules
